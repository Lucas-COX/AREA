FROM golang:1.19-alpine
WORKDIR /server

#download necessary GO modules
COPY go.mod ./
COPY go.sum ./

RUN go mod tidy
COPY *.go ./

#COPY Makefile Makefile

#RUN apk update
#RUN apk add make

RUN go build -o /server

EXPOSE 8081

CMD ["/server"]